<Project>

  <!-- Common project properties -->
  <PropertyGroup>
    <LangVersion>13.0</LangVersion>
    <CLSCompliant>false</CLSCompliant>
    <Nullable>enable</Nullable>
    <RestorePackagesWithLockFile>true</RestorePackagesWithLockFile>
    <DisableImplicitNuGetFallbackFolder>true</DisableImplicitNuGetFallbackFolder>
    <TestingPlatformDotnetTestSupport>true</TestingPlatformDotnetTestSupport>
    <UseMicrosoftTestingPlatformRunner>true</UseMicrosoftTestingPlatformRunner>
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
  </PropertyGroup>

  <!-- Generated file properties -->
  <PropertyGroup>
    <!-- https://learn.microsoft.com/en-us/dotnet/core/project-sdk/msbuild-props#implicitusings -->
    <ImplicitUsings>enable</ImplicitUsings>
  </PropertyGroup>

  <!-- Build-related properties -->
  <PropertyGroup>
    <!-- https://learn.microsoft.com/en-us/dotnet/core/project-sdk/msbuild-props#optimizeimplicitlytriggeredbuild -->
    <OptimizeImplicitlyTriggeredBuilds>true</OptimizeImplicitlyTriggeredBuilds>

    <!-- https://learn.microsoft.com/en-us/dotnet/core/project-sdk/msbuild-props#continuousintegrationbuild -->
    <!-- https://github.com/dotnet/sourcelink/blob/main/docs/README.md#continuousintegrationbuild -->
    <ContinuousIntegrationBuild Condition="'$(GITHUB_ACTIONS)' == 'true'">true</ContinuousIntegrationBuild>

    <!-- https://github.com/dotnet/sourcelink/blob/main/docs/README.md#deterministicsourcepaths -->
    <DeterministicSourcePaths Condition="'$(GITHUB_ACTIONS)' == 'true'">true</DeterministicSourcePaths>
  </PropertyGroup>

  <ItemGroup>
    <SourceRoot Include="$(MSBuildThisFileDirectory)/" />
  </ItemGroup>

  <!-- Polyfills -->
  <PropertyGroup>
    <!-- Add support for OSPlatform attributes (net5.0+) -->
    <PolySharpIncludeRuntimeSupportedAttributes>true</PolySharpIncludeRuntimeSupportedAttributes>
  </PropertyGroup>

  <!-- Code analysis -->
  <!-- Levels: https://learn.microsoft.com/en-us/dotnet/core/project-sdk/msbuild-props#analysislevel -->
  <!-- Modes: https://learn.microsoft.com/en-us/dotnet/core/project-sdk/msbuild-props#analysismode -->
  <PropertyGroup>
    <CodeAnalysisTreatWarningsAsErrors>false</CodeAnalysisTreatWarningsAsErrors>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/configuration-options#enable-code-analysis -->
    <!-- https://learn.microsoft.com/en-us/dotnet/core/project-sdk/msbuild-props#enablenetanalyzers -->
    <EnableNETAnalyzers>true</EnableNETAnalyzers>

    <!-- https://learn.microsoft.com/en-us/dotnet/core/project-sdk/msbuild-props#enforcecodestyleinbuild -->
    <EnforceCodeStyleInBuild>true</EnforceCodeStyleInBuild>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/design-warnings -->
    <AnalysisLevelDesign>latest-all</AnalysisLevelDesign>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/documentation-warnings -->
    <AnalysisLevelDocumentation>latest-default</AnalysisLevelDocumentation>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/globalization-warnings -->
    <AnalysisLevelGlobalization>latest-all</AnalysisLevelGlobalization>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/interoperability-warnings -->
    <AnalysisLevelInteroperability>latest-all</AnalysisLevelInteroperability>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/maintainability-warnings -->
    <AnalysisLevelMaintainability>latest-all</AnalysisLevelMaintainability>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/naming-warnings -->
    <AnalysisLevelNaming>latest-default</AnalysisLevelNaming>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/performance-warnings -->
    <AnalysisLevelPerformance>latest-all</AnalysisLevelPerformance>

    <!-- https://learn.microsoft.com/en-us/dotnet/core/deploying/single-file/warnings/overview -->
    <AnalysisLevelSingleFile>latest-all</AnalysisLevelSingleFile>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/reliability-warnings -->
    <AnalysisLevelReliability>latest-all</AnalysisLevelReliability>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/security-warnings -->
    <AnalysisLevelSecurity>latest-all</AnalysisLevelSecurity>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/style-rules/ -->
    <AnalysisLevelStyle>latest-default</AnalysisLevelStyle>

    <!-- https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/usage-warnings -->
    <AnalysisLevelUsage>latest-all</AnalysisLevelUsage>
  </PropertyGroup>
</Project>
